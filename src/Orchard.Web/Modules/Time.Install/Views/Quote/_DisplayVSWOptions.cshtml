@model Time.Install.ViewModels.GroupsAndOptionsViewModel

<div id="accordion">
    @foreach (var item in Model.OptionGroups)
    {
        <h3>@item.GroupName</h3>
        <div>
            <table class="table">
                <tr class="success">
                    <th>Option</th>
                    <th>Qty</th>
                    <th>Price</th>
                    <th>Hours</th>
                </tr>
                @for (int i = 0; i < Model.Options.Count; i++)
                {
                    if (Model.Options[i].GroupId == item.Id)
                    {
                        <tr>
                            <td>@Html.Label("options[" + @i + "].OptionName", Model.Options[i].OptionName)</td>
                            @Html.Hidden("options[" + @i + "].Id", Model.Options[i].Id)
                            @Html.Hidden("options[" + @i + "].OptionName", Model.Options[i].OptionName)
                            @Html.Hidden("options[" + @i + "].LiftFamilyId", Model.Options[i].LiftFamilyId)
                            @Html.Hidden("options[" + @i + "].GroupId", Model.Options[i].GroupId)
                            <td>@Html.TextBox("options[" + @i + "].Quantity", Model.Options[i].Quantity, htmlAttributes: new { @class = "text-right spinner1" })</td>
                            <td>@Html.TextBox("options[" + @i + "].Price", Model.Options[i].Price, htmlAttributes: new { @class = "text-right spinner2" })</td>
                            <td>@Html.TextBox("options[" + @i + "].InstallHours", Model.Options[i].InstallHours, htmlAttributes: new { @class = "text-right spinner1" })</td>
                        </tr>
                    }
                }
            </table>
        </div>
    }
</div>