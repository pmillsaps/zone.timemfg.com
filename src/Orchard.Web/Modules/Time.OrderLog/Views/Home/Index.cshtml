@model IEnumerable<Time.OrderLog.EntityModels.Order>

@*<style type="text/css">
    .column {
        padding: 5px;
    }
</style>*@


@{
    ViewBag.Title = "Order Log";
}

<h2>@ViewBag.Title</h2>
<hr />

<p>
    @Html.ActionLink("Add New Order", "Create")
</p>
@{
    var grid = new WebGrid(
        source: Model,
        canPage: true,
        rowsPerPage: 10,
        canSort: true
        );
}

<div>
    @grid.GetHtml(
            //tableStyle: "WebGrid", //to adjust column width see http://stackoverflow.com/questions/9357786/apply-specific-width-in-column-of-webgrid-in-mvc3        
        tableStyle: "table table-striped table-bordered table-condensed", 
        columns: grid.Columns(
                grid.Column("PO", "PO#", format: item => Html.ActionLink((string)item.PO, "Details", new { id = (int)item.OrderId }), style: "column"),
                                    grid.Column("Date", "Date", format: (item) => item.Date.ToString("MM/dd/yyyy"), style: "column"),
                            grid.Column("Dealer.DealerName", "Dealer Name", style: "column"),
                            grid.Column("Territory.TerritoryName", "Territory", style: "column")
            )
        )
</div>



    @*<p>
        @Html.ActionLink("Create New", "Create")
    </p>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.PO)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Date)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Dealer.DealerName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Territory.TerritoryName)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.PO)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Date)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Dealer.DealerName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Territory.TerritoryName)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.OrderId }) |
                    @Html.ActionLink("Details", "Details", new { id = item.OrderId }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.OrderId })
                </td>
            </tr>
        }
    </table>*@